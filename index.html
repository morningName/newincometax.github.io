<html>
  <head>
    <title>Tax Calculator</title>
    <style>
      form {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: 50px;
      }
      label {
        margin-bottom: 10px;
      }
      input[type="number"] {
        padding: 10px;
        font-size: 20px;
        margin-bottom: 20px;
      }
      button[type="submit"] {
        padding: 10px 20px;
        background-color: green;
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 20px;
        cursor: pointer;
      }
      .banner {
        background-color: green;
        color: white;
        font-size: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        border-radius: 10px;
      }
      .banner span {
        margin-right: 10px;
      }
      .line {
       font-size: 20px;
        font-weight: normal;
        text-align: center;
        padding: 20px;
        font-style:italic
      }
      #result {
        margin-top: 50px;
        text-align: center;
        font-size: 20px;
      }
      #result p {
        margin-bottom: 20px;
      }
    </style>
  </head>
  <body>
    <h1 style="text-align: center; margin-top: 50px;">Kitna Paisa Bacha Application</h1>
    <div class="line" >  Welcoming you to this beautiful application </div>
    <form id="taxForm">
      <label for="salary">Enter your salary:</label>
      <input type="number" id="salary" name="salary">
      <button type="submit">Submit</button>
    </form>

<div id="result">
  <p>Old regime tax payable: <span id="oldRegimeResult"></span></p>
  <p>New regime tax payable: <span id="newRegimeResult"></span></p>
  <p>Latest new regime tax payable: <span id="latestNewRegimeResult"></span></p>
</div>

 <div class="banner" id="banner" style="display: none;">
      <span role="img" aria-label="congratulations">ðŸŽ‰</span>
      Party de de, abhi toh tax bhi save hogaya!
    </div>
    
<script>
  const form = document.querySelector("#taxForm");
  form.addEventListener("submit", function(event) {
    event.preventDefault();
    const salary = parseInt(document.querySelector("#salary").value);
    
    document.querySelector("#oldRegimeResult").innerHTML = oldRegime(salary);
    document.querySelector("#newRegimeResult").innerHTML = newRegime(salary);
    document.querySelector("#latestNewRegimeResult").innerHTML = latestNewRegime(salary);
    
    
    let result = "<p>Old regime tax payable: <span>" + oldRegime(salary) + "</span></p>";
    result += "<p>New regime tax payable: <span>" + newRegime(salary) + "</span></p>";
    result += "<p>Latest new regime tax payable: <span>" + latestNewRegime(salary) + "</span></p>";
    result += "<p> Old vs latest tax save: <span>" + reductionPercentage(oldRegime(salary), latestNewRegime(salary)) + "%" + "</span></p>";
    result += "<p> New vs latest tax save: <span>" + reductionPercentage(newRegime(salary), latestNewRegime(salary)) + "%" + "</span></p>";
    
    document.querySelector("#result").innerHTML = result;

    document.querySelector("#banner").style.display = "block";

   
  });
  
 function reductionPercentage(oldValue, newValue) {
    let percentage = ((oldValue - newValue) / oldValue) * 100;
    return Math.round(percentage);
	}


  function oldRegime(salary) {
    let tax = 0;
    if (salary <= 500000)
    {
     return 0;
    }
    if (salary <= 250000) {
      tax = 0;
    } else if (salary <= 500000) {
      tax = (salary - 250000) * 0.05;
    } else if (salary <= 1000000) {
      tax = (salary - 500000) * 0.2 + 12500;
    } else {
      tax = (salary - 1000000) * 0.3 + 112500;
    }
    return tax;
  }

  function newRegime(salary) {
    let tax = 0;
    if (salary <= 500000)
    {
     return 0;
    }
    if (salary <= 250000) {
      tax = 0;
    } else if (salary <= 500000) {
      tax = (salary - 250000) * 0.05;
    } else if (salary <= 750000) {
      tax = (salary - 500000) * 0.1 + 12500;
    } else if (salary <= 1000000) {
      tax = (salary - 750000) * 0.15 + 37500;
    } else if (salary <= 1250000) {
      tax = (salary - 1000000) * 0.2 + 75000;
    } else if (salary <= 1500000) {
      tax = (salary - 1250000) * 0.25 + 125000;
    } else {
      tax = (salary - 1500000) * 0.3 + 187500;
    }
    return tax;
  }

  function latestNewRegime(salary) {
    let tax = 0;
    if (salary <= 700000)
    {
     return 0;
    }
    if (salary <= 300000) {
      tax = 0;
    } else if (salary <= 600000) {
      tax = (salary - 300000) * 0.05;
    } else if (salary <= 900000) {
      tax = 15000 + 0.1 * (salary - 600000);
    } else if (salary <= 1200000) {
      tax = 45000 + 0.15 * (salary - 900000);
    } 
      else if (salary <= 1500000) {
      tax = 90000 + 0.2 * (salary - 1200000);
    }
      else {
        tax = 150000 + 0.3 * (salary - 1500000);
      }
    return tax;
      }
    </script>
  </body>
</html>
